<link href="../../../Content/bootstrap.css" rel="stylesheet" />
<link href="../../../Content/input-style.css" rel="stylesheet" />
<link href="../../../Content/fontAwesome/font-awesome.css" rel="stylesheet" />
<!--<link href="../../Content/bootstrap-theme.css" rel="stylesheet" />-->
<script src="../../../Scripts/jquery/jquery-1.10.2.min.js"></script>
<script src="../../../Scripts/bootstrap/bootstrap.min.js"></script>
<script src="../../../Scripts/bootstrap/bootstrap-tooltip.js"></script>
<script src="../../../Scripts/bootstrap/bootstrap-popover.js"></script>
<script src="../../../Scripts/bootstrap/bootstrap-affix.js"></script>
<!--table插件-->
<link href="../../../Content/bootstrap-table.css" rel="stylesheet" />
<script src="../../../Scripts/bootstrap/bootstrap-table.js"></script>
<!--选择对话框-->
<link href="../../../Scripts/sweetalert/sweetalert.css" rel="stylesheet" />
<script src="../../../Scripts/sweetalert/sweetalert-dev.js"></script>
<!--时间插件-->
<link href="../../../Content/bootstrap-datetimepicker.css" rel="stylesheet" />
<script src="../../../Scripts/datetimepicker/bootstrap-datetimepicker.js"></script>
<script src="../../../Scripts/datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js"></script>
<!--helper-->
<script src="../../../Scripts/Helper.js"></script>

<link href="../../../Content/imgbox.css" rel="stylesheet" />
<style type="text/css">
    .safe_newmail_all {
        margin: 10px;
    }

    .safe_nt_search {
        width: 100%;
    }

    .safe_nts {
        margin: 0 10px;
    }

    .safe_nts_name p {
        height: 34px;
        line-height: 34px;
    }

    .safe_nts_text {
        width: 225px;
    }

    .form-group {
        margin: 0;
    }

    .safe_newmail_center {
        margin: 0 10px;
    }

    .safe_nts_name {
        font-size: 12px;
        font-weight: 700;
    }
</style>
<div class="safe_newmail_all">
    <div class="safe_newmail_top">
        <div class="safe_nt_search clearfix">
            <div class="safe_nts pull-right">
                <div class="safe_nts_name pull-left"><p>搜索时间：</p></div>
                <div class="safe_nts_text pull-left">
                    <div class="form-group">
                        <div class="input-group date form_datetime" data-date="2017-02-16T05:25:07Z" data-date-format="dd MM yyyy - HH:ii p" data-link-field="dtp_time">
                            <input class="form-control" size="16" type="text" value="" placeholder="请选择时间" readonly>
                            <span class="input-group-addon"><span class="fa fa-times"></span></span>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-time fa fa-calendar-plus-o"></span></span>
                        </div>
                        <input type="hidden" id="dtp_time" value="" /><br />
                    </div>
                </div>
            </div>
            <div class="safe_nts pull-right">
                <div class="safe_nts_name pull-left"><p>搜索名称：</p></div>
                <div class="safe_nts_text pull-left"><input type="text" class="form-control" placeholder="请输入发送人昵称或邮件标题" /></div>
            </div>
        </div>
    </div>
    <style type="text/css">
        .safe_nc_title {
            margin-bottom: 10px;
            padding-bottom: 10px;
        }
    </style>
    <div class="safe_newmail_center">
        <div class="safe_nc_title">
            <div class="btn-group safe_nct_content pull-left">
                <button type="button" class="btn btn-default btn-sm" id="btn_DeleteMail"><em class="fa fa-trash"></em> 删除</button>
                <button type="button" class="btn btn-default btn-sm" id="btn_NewMail"><em class="fa fa-plus"></em> 新增</button>
                <button type="button" class="btn btn-default btn-sm" id="btn_ReplyMail"><em class="fa fa-paper-plane-o"></em> 回复</button>
            </div>
            <div class="btn-group safe_nct_content pull-right">
                <button type="button" class="btn btn-default btn-sm">暂定</button>
            </div>
        </div>
        <style type="text/css">
        </style>
        <div class="safe_nc_context">
            <table id="newMailTable"
                   data-toggle="table"
                   data-toolbar="#toolbar"
                   data-height="460"
                   data-click-to-select="true"
                   data-url="../../../Test/data1.json">
                <thead>
                    <tr>
                        <th data-field="state" data-checkbox="true"></th>
                        <th data-field="id">发件人</th>
                        <th data-field="name">消息标题</th>
                        <th data-field="name">接收时间</th>
                        <th data-field="price">Item Price</th>
                    </tr>
                </thead>
            </table>
        </div>

    </div>
    <div class="safe_newmail_bottom"></div>

</div>
<script type="text/javascript">
    $(document).ready(function () {
        $(".form_datetime").datetimepicker({
            format: 'yyyy-mm-dd hh:ii',
            language: 'zh-CN'
        });

        var $mailTable = $('#MailTable'),
        $deleteMail = $('#btn_DeleteMail');

        swal({
            title: "你确认要删除选中的消息？",
            text: "这些消息将会被删除而无法找到，请确认是否存在未读消息，或者有未接收的文件",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, delete it!",
            cancelButtonText: "No, cancel plx!",
            closeOnConfirm: false,
            closeOnCancel: false
        }, function (isConfirm) {
            if (isConfirm) {
                swal("Deleted!", "Your imaginary file has been deleted.", "success");
            } else {
                swal("Cancelled", "Your imaginary file is safe :)", "error");
            }
        });

        $deleteMail.click(function () {
            var ids = $.map($mailTable.bootstrapTable('getSelections'), function (row) {
                return row.id;
            });
            if (ids.length <= 0) {

                return;
            } else {
                $mailTable.bootstrapTable('remove', {
                    field: 'id',
                    values: ids
                });
            }
        });

        $.getJSON('../../../Test/data1.json', function (data) {

        });
    });

</script>